<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Effective data visualization | Introduction to Data Science</title>
  <meta name="description" content="This is an open source textbook for teaching introductory data science." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Effective data visualization | Introduction to Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is an open source textbook for teaching introductory data science." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Effective data visualization | Introduction to Data Science" />
  
  <meta name="twitter:description" content="This is an open source textbook for teaching introductory data science." />
  

<meta name="author" content="Tiffany-Anne Timbers" />
<meta name="author" content="Melissa Lee" />
<meta name="author" content="Trevor Campbell" />


<meta name="date" content="2019-09-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="wrangling.html">
<link rel="next" href="GitHub.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.46.1/plotly-latest.min.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction to Data Science</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#chapter-learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#jupyter-notebooks"><i class="fa fa-check"></i><b>1.2</b> Jupyter notebooks</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#loading-a-spreadsheet-like-dataset"><i class="fa fa-check"></i><b>1.3</b> Loading a spreadsheet-like dataset</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#assigning-value-to-a-data-frame"><i class="fa fa-check"></i><b>1.4</b> Assigning value to a data frame</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#creating-subsets-of-data-frames-with-select-filter"><i class="fa fa-check"></i><b>1.5</b> Creating subsets of data frames with <code>select</code> &amp; <code>filter</code></a><ul>
<li class="chapter" data-level="1.5.1" data-path="index.html"><a href="index.html#using-select-to-extract-multiple-columns"><i class="fa fa-check"></i><b>1.5.1</b> Using <code>select</code> to extract multiple columns</a></li>
<li class="chapter" data-level="1.5.2" data-path="index.html"><a href="index.html#using-select-to-extract-a-range-of-columns"><i class="fa fa-check"></i><b>1.5.2</b> Using <code>select</code> to extract a range of columns</a></li>
<li class="chapter" data-level="1.5.3" data-path="index.html"><a href="index.html#using-filter-to-extract-a-single-row"><i class="fa fa-check"></i><b>1.5.3</b> Using <code>filter</code> to extract a single row</a></li>
<li class="chapter" data-level="1.5.4" data-path="index.html"><a href="index.html#using-filter-to-extract-rows-with-values-above-a-threshold"><i class="fa fa-check"></i><b>1.5.4</b> Using <code>filter</code> to extract rows with values above a threshold</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#exploring-data-with-visualizations"><i class="fa fa-check"></i><b>1.6</b> Exploring data with visualizations</a><ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#using-ggplot-to-create-a-scatter-plot"><i class="fa fa-check"></i><b>1.6.1</b> Using <code>ggplot</code> to create a scatter plot</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#using-ggplot-to-create-a-scatter-plot-1"><i class="fa fa-check"></i><b>1.6.2</b> Using <code>ggplot</code> to create a scatter plot</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#formatting-ggplot-objects"><i class="fa fa-check"></i><b>1.6.3</b> Formatting ggplot objects</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#coloring-points-by-group"><i class="fa fa-check"></i><b>1.6.4</b> Coloring points by group</a></li>
<li class="chapter" data-level="1.6.5" data-path="index.html"><a href="index.html#putting-it-all-together"><i class="fa fa-check"></i><b>1.6.5</b> Putting it all together</a></li>
<li class="chapter" data-level="1.6.6" data-path="index.html"><a href="index.html#whats-next"><i class="fa fa-check"></i><b>1.6.6</b> What’s next?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reading.html"><a href="reading.html"><i class="fa fa-check"></i><b>2</b> Reading in data locally and from the web</a><ul>
<li class="chapter" data-level="2.1" data-path="reading.html"><a href="reading.html#overview"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="reading.html"><a href="reading.html#chapter-learning-objectives-1"><i class="fa fa-check"></i><b>2.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="2.3" data-path="reading.html"><a href="reading.html#absolute-and-relative-file-paths"><i class="fa fa-check"></i><b>2.3</b> Absolute and relative file paths</a></li>
<li class="chapter" data-level="2.4" data-path="reading.html"><a href="reading.html#reading-tabular-data-into-r"><i class="fa fa-check"></i><b>2.4</b> Reading tabular data into R</a><ul>
<li class="chapter" data-level="2.4.1" data-path="reading.html"><a href="reading.html#read_delim-as-a-more-flexible-method-to-get-tabular-data-into-r"><i class="fa fa-check"></i><b>2.4.1</b> <code>read_delim</code> as a more flexible method to get tabular data into R</a></li>
<li class="chapter" data-level="2.4.2" data-path="reading.html"><a href="reading.html#reading-tabular-data-directly-from-a-url"><i class="fa fa-check"></i><b>2.4.2</b> Reading tabular data directly from a URL</a></li>
<li class="chapter" data-level="2.4.3" data-path="reading.html"><a href="reading.html#previewing-a-data-file-before-reading-it-into-r"><i class="fa fa-check"></i><b>2.4.3</b> Previewing a data file before reading it into R</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="reading.html"><a href="reading.html#scraping-data-off-the-web-using-r"><i class="fa fa-check"></i><b>2.5</b> Scraping data off the web using R</a><ul>
<li class="chapter" data-level="2.5.1" data-path="reading.html"><a href="reading.html#html-and-css-selectors"><i class="fa fa-check"></i><b>2.5.1</b> HTML and CSS selectors</a></li>
<li class="chapter" data-level="2.5.2" data-path="reading.html"><a href="reading.html#are-you-allowed-to-scrape-that-website"><i class="fa fa-check"></i><b>2.5.2</b> Are you allowed to scrape that website?</a></li>
<li class="chapter" data-level="2.5.3" data-path="reading.html"><a href="reading.html#using-rvest"><i class="fa fa-check"></i><b>2.5.3</b> Using <code>rvest</code></a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="reading.html"><a href="reading.html#additional-readingsresources"><i class="fa fa-check"></i><b>2.6</b> Additional readings/resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>3</b> Cleaning and wrangling data</a><ul>
<li class="chapter" data-level="3.1" data-path="wrangling.html"><a href="wrangling.html#overview-1"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="wrangling.html"><a href="wrangling.html#chapter-learning-objectives-2"><i class="fa fa-check"></i><b>3.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="3.3" data-path="wrangling.html"><a href="wrangling.html#vectors-and-data-frames"><i class="fa fa-check"></i><b>3.3</b> Vectors and Data frames</a><ul>
<li class="chapter" data-level="3.3.1" data-path="wrangling.html"><a href="wrangling.html#what-is-a-data-frame"><i class="fa fa-check"></i><b>3.3.1</b> What is a data frame?</a></li>
<li class="chapter" data-level="3.3.2" data-path="wrangling.html"><a href="wrangling.html#what-is-a-vector"><i class="fa fa-check"></i><b>3.3.2</b> What is a vector?</a></li>
<li class="chapter" data-level="3.3.3" data-path="wrangling.html"><a href="wrangling.html#how-are-vectors-different-from-a-list"><i class="fa fa-check"></i><b>3.3.3</b> How are vectors different from a list?</a></li>
<li class="chapter" data-level="3.3.4" data-path="wrangling.html"><a href="wrangling.html#what-does-this-have-to-do-with-data-frames"><i class="fa fa-check"></i><b>3.3.4</b> What does this have to do with data frames?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="wrangling.html"><a href="wrangling.html#the-dplyr-functions"><i class="fa fa-check"></i><b>3.4</b> The <code>dplyr</code> functions</a></li>
<li class="chapter" data-level="3.5" data-path="wrangling.html"><a href="wrangling.html#tidy-data"><i class="fa fa-check"></i><b>3.5</b> Tidy Data</a><ul>
<li class="chapter" data-level="3.5.1" data-path="wrangling.html"><a href="wrangling.html#what-is-tidy-data"><i class="fa fa-check"></i><b>3.5.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="3.5.2" data-path="wrangling.html"><a href="wrangling.html#why-is-tidy-data-important-in-r"><i class="fa fa-check"></i><b>3.5.2</b> Why is tidy data important in R?</a></li>
<li class="chapter" data-level="3.5.3" data-path="wrangling.html"><a href="wrangling.html#going-from-wide-to-long-or-tidy-using-gather"><i class="fa fa-check"></i><b>3.5.3</b> Going from wide to long (or tidy!) using <code>gather</code></a></li>
<li class="chapter" data-level="3.5.4" data-path="wrangling.html"><a href="wrangling.html#using-separate-to-deal-with-multiple-delimiters"><i class="fa fa-check"></i><b>3.5.4</b> Using separate to deal with multiple delimiters</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="wrangling.html"><a href="wrangling.html#using-purrrs-map-functions-to-iterate"><i class="fa fa-check"></i><b>3.6</b> Using <code>purrr</code>’s <code>map*</code> functions to iterate</a><ul>
<li class="chapter" data-level="3.6.1" data-path="wrangling.html"><a href="wrangling.html#a-bit-more-about-the-map-functions"><i class="fa fa-check"></i><b>3.6.1</b> A bit more about the <code>map*</code> functions</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="wrangling.html"><a href="wrangling.html#additional-readingsresources-1"><i class="fa fa-check"></i><b>3.7</b> Additional readings/resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="viz.html"><a href="viz.html"><i class="fa fa-check"></i><b>4</b> Effective data visualization</a><ul>
<li class="chapter" data-level="4.1" data-path="viz.html"><a href="viz.html#overview-2"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="viz.html"><a href="viz.html#chapter-learning-objectives-3"><i class="fa fa-check"></i><b>4.2</b> Chapter learning objectives</a></li>
<li class="chapter" data-level="4.3" data-path="viz.html"><a href="viz.html#choosing-the-visualization"><i class="fa fa-check"></i><b>4.3</b> Choosing the visualization</a><ul>
<li class="chapter" data-level="4.3.1" data-path="viz.html"><a href="viz.html#the-mauna-loa-co2-dataset"><i class="fa fa-check"></i><b>4.3.1</b> The Mauna Loa CO2 dataset</a></li>
<li class="chapter" data-level="4.3.2" data-path="viz.html"><a href="viz.html#the-old-faithful-eruption-waiting-time-dataset"><i class="fa fa-check"></i><b>4.3.2</b> The Old Faithful eruption / waiting time dataset</a></li>
<li class="chapter" data-level="4.3.3" data-path="viz.html"><a href="viz.html#the-island-landmass-dataset"><i class="fa fa-check"></i><b>4.3.3</b> The island landmass dataset</a></li>
<li class="chapter" data-level="4.3.4" data-path="viz.html"><a href="viz.html#the-michelson-speed-of-light-dataset"><i class="fa fa-check"></i><b>4.3.4</b> The Michelson speed of light dataset</a></li>
<li class="chapter" data-level="4.3.5" data-path="viz.html"><a href="viz.html#the-tooth-growth-dataset"><i class="fa fa-check"></i><b>4.3.5</b> The tooth growth dataset</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="viz.html"><a href="viz.html#refining-the-visualization"><i class="fa fa-check"></i><b>4.4</b> Refining the visualization</a></li>
<li class="chapter" data-level="4.5" data-path="viz.html"><a href="viz.html#explaining-the-visualization"><i class="fa fa-check"></i><b>4.5</b> Explaining the visualization</a></li>
<li class="chapter" data-level="4.6" data-path="viz.html"><a href="viz.html#saving-the-visualization"><i class="fa fa-check"></i><b>4.6</b> Saving the visualization</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="GitHub.html"><a href="GitHub.html"><i class="fa fa-check"></i><b>5</b> Version control with GitHub</a><ul>
<li class="chapter" data-level="5.1" data-path="GitHub.html"><a href="GitHub.html#overview-3"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="GitHub.html"><a href="GitHub.html#videos-to-learn-about-version-control-with-github-and-git"><i class="fa fa-check"></i><b>5.2</b> Videos to learn about version control with GitHub and Git</a><ul>
<li class="chapter" data-level="5.2.1" data-path="GitHub.html"><a href="GitHub.html#creating-a-github-repository"><i class="fa fa-check"></i><b>5.2.1</b> Creating a GitHub repository</a></li>
<li class="chapter" data-level="5.2.2" data-path="GitHub.html"><a href="GitHub.html#exploring-a-github-repository"><i class="fa fa-check"></i><b>5.2.2</b> Exploring a GitHub repository</a></li>
<li class="chapter" data-level="5.2.3" data-path="GitHub.html"><a href="GitHub.html#directly-editing-files-on-github"><i class="fa fa-check"></i><b>5.2.3</b> Directly editing files on GitHub</a></li>
<li class="chapter" data-level="5.2.4" data-path="GitHub.html"><a href="GitHub.html#logging-changes-and-pushing-them-to-github"><i class="fa fa-check"></i><b>5.2.4</b> Logging changes and pushing them to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="GitHub.html"><a href="GitHub.html#git-command-cheatsheet"><i class="fa fa-check"></i><b>5.3</b> Git command cheatsheet</a><ul>
<li class="chapter" data-level="5.3.1" data-path="GitHub.html"><a href="GitHub.html#getting-a-repository-from-github-onto-the-server-for-the-first-time"><i class="fa fa-check"></i><b>5.3.1</b> Getting a repository from GitHub onto the server for the first time</a></li>
<li class="chapter" data-level="5.3.2" data-path="GitHub.html"><a href="GitHub.html#logging-changes"><i class="fa fa-check"></i><b>5.3.2</b> Logging changes</a></li>
<li class="chapter" data-level="5.3.3" data-path="GitHub.html"><a href="GitHub.html#sending-your-changes-back-to-github"><i class="fa fa-check"></i><b>5.3.3</b> Sending your changes back to GitHub</a></li>
<li class="chapter" data-level="5.3.4" data-path="GitHub.html"><a href="GitHub.html#getting-changes"><i class="fa fa-check"></i><b>5.3.4</b> Getting changes</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="GitHub.html"><a href="GitHub.html#terminal-cheatsheet"><i class="fa fa-check"></i><b>5.4</b> Terminal cheatsheet</a><ul>
<li class="chapter" data-level="5.4.1" data-path="GitHub.html"><a href="GitHub.html#see-where-you-are"><i class="fa fa-check"></i><b>5.4.1</b> See where you are:</a></li>
<li class="chapter" data-level="5.4.2" data-path="GitHub.html"><a href="GitHub.html#see-what-is-inside-the-directory-where-you-are"><i class="fa fa-check"></i><b>5.4.2</b> See what is inside the directory where you are:</a></li>
<li class="chapter" data-level="5.4.3" data-path="GitHub.html"><a href="GitHub.html#move-to-a-different-directory"><i class="fa fa-check"></i><b>5.4.3</b> Move to a different directory</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>6</b> Classification</a><ul>
<li class="chapter" data-level="6.1" data-path="classification.html"><a href="classification.html#overview-4"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="classification.html"><a href="classification.html#learning-objectives"><i class="fa fa-check"></i><b>6.2</b> Learning objectives</a></li>
<li class="chapter" data-level="6.3" data-path="classification.html"><a href="classification.html#classification"><i class="fa fa-check"></i><b>6.3</b> Classification</a></li>
<li class="chapter" data-level="6.4" data-path="classification.html"><a href="classification.html#wisconsin-breast-cancer-example"><i class="fa fa-check"></i><b>6.4</b> Wisconsin Breast Cancer Example:</a><ul>
<li class="chapter" data-level="6.4.1" data-path="classification.html"><a href="classification.html#data-exploration"><i class="fa fa-check"></i><b>6.4.1</b> Data Exploration</a></li>
<li class="chapter" data-level="6.4.2" data-path="classification.html"><a href="classification.html#k-nearest-neighbour-classifier"><i class="fa fa-check"></i><b>6.4.2</b> K-Nearest Neighbour Classifier</a></li>
<li class="chapter" data-level="6.4.3" data-path="classification.html"><a href="classification.html#k-nearest-neighbours-in-r"><i class="fa fa-check"></i><b>6.4.3</b> K-Nearest Neighbours in R</a></li>
<li class="chapter" data-level="6.4.4" data-path="classification.html"><a href="classification.html#more-than-two-explanatory-variablespredictors"><i class="fa fa-check"></i><b>6.4.4</b> More than two explanatory variables/predictors</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="classification.html"><a href="classification.html#additional-readingsresources-2"><i class="fa fa-check"></i><b>6.5</b> Additional readings/resources</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="classification-continued.html"><a href="classification-continued.html"><i class="fa fa-check"></i><b>7</b> Classification continued</a><ul>
<li class="chapter" data-level="7.1" data-path="classification-continued.html"><a href="classification-continued.html#overview-5"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="classification-continued.html"><a href="classification-continued.html#learning-objectives-1"><i class="fa fa-check"></i><b>7.2</b> Learning objectives</a></li>
<li class="chapter" data-level="7.3" data-path="classification-continued.html"><a href="classification-continued.html#assessing-how-good-your-classifier-is"><i class="fa fa-check"></i><b>7.3</b> Assessing how good your classifier is</a><ul>
<li class="chapter" data-level="7.3.1" data-path="classification-continued.html"><a href="classification-continued.html#assessing-your-classifier-in-r"><i class="fa fa-check"></i><b>7.3.1</b> Assessing your classifier in R</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="classification-continued.html"><a href="classification-continued.html#cross-validation-for-assessing-classifier-quality"><i class="fa fa-check"></i><b>7.4</b> Cross-validation for assessing classifier quality</a></li>
<li class="chapter" data-level="7.5" data-path="classification-continued.html"><a href="classification-continued.html#choosing-the-number-of-neighbours-for-k-nn-classification"><i class="fa fa-check"></i><b>7.5</b> Choosing the number of neighbours for k-nn classification</a></li>
<li class="chapter" data-level="7.6" data-path="classification-continued.html"><a href="classification-continued.html#other-ways-to-increase-accuracy"><i class="fa fa-check"></i><b>7.6</b> Other ways to increase accuracy</a></li>
<li class="chapter" data-level="7.7" data-path="classification-continued.html"><a href="classification-continued.html#test-data-set"><i class="fa fa-check"></i><b>7.7</b> Test data set</a></li>
<li class="chapter" data-level="7.8" data-path="classification-continued.html"><a href="classification-continued.html#scaling-your-data"><i class="fa fa-check"></i><b>7.8</b> Scaling your data</a></li>
<li class="chapter" data-level="7.9" data-path="classification-continued.html"><a href="classification-continued.html#strengths-and-limitations-of-k-nn-classification"><i class="fa fa-check"></i><b>7.9</b> Strengths and limitations of k-nn classification</a><ul>
<li class="chapter" data-level="7.9.1" data-path="classification-continued.html"><a href="classification-continued.html#strengths-of-k-nn-classification"><i class="fa fa-check"></i><b>7.9.1</b> Strengths of k-nn classification</a></li>
<li class="chapter" data-level="7.9.2" data-path="classification-continued.html"><a href="classification-continued.html#limitations-of-k-nn-classification"><i class="fa fa-check"></i><b>7.9.2</b> Limitations of k-nn classification</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="classification-continued.html"><a href="classification-continued.html#additional-readingsresources-3"><i class="fa fa-check"></i><b>7.10</b> Additional readings/resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="regression1.html"><a href="regression1.html"><i class="fa fa-check"></i><b>8</b> Introduction to regression through K-nearest neighbours</a><ul>
<li class="chapter" data-level="8.1" data-path="regression1.html"><a href="regression1.html#overview-6"><i class="fa fa-check"></i><b>8.1</b> Overview</a></li>
<li class="chapter" data-level="8.2" data-path="regression1.html"><a href="regression1.html#learning-objectives-2"><i class="fa fa-check"></i><b>8.2</b> Learning objectives</a></li>
<li class="chapter" data-level="8.3" data-path="regression1.html"><a href="regression1.html#regression"><i class="fa fa-check"></i><b>8.3</b> Regression</a></li>
<li class="chapter" data-level="8.4" data-path="regression1.html"><a href="regression1.html#sacremento-real-estate-example"><i class="fa fa-check"></i><b>8.4</b> Sacremento real estate example</a></li>
<li class="chapter" data-level="8.5" data-path="regression1.html"><a href="regression1.html#k-nearest-neighbours-regression"><i class="fa fa-check"></i><b>8.5</b> K-nearest neighbours regression</a></li>
<li class="chapter" data-level="8.6" data-path="regression1.html"><a href="regression1.html#assessing-a-knn-regression-model"><i class="fa fa-check"></i><b>8.6</b> Assessing a knn regression model</a></li>
<li class="chapter" data-level="8.7" data-path="regression1.html"><a href="regression1.html#how-do-different-ks-affect-k-nn-regression-predictions"><i class="fa fa-check"></i><b>8.7</b> How do different k’s affect k-nn regression predictions</a></li>
<li class="chapter" data-level="8.8" data-path="regression1.html"><a href="regression1.html#assessing-model-goodness-with-the-test-set"><i class="fa fa-check"></i><b>8.8</b> Assessing model goodness with the test set</a></li>
<li class="chapter" data-level="8.9" data-path="regression1.html"><a href="regression1.html#strengths-and-limitations-of-k-nn-regression"><i class="fa fa-check"></i><b>8.9</b> Strengths and limitations of k-nn regression</a><ul>
<li class="chapter" data-level="8.9.1" data-path="regression1.html"><a href="regression1.html#strengths-of-k-nn-regression"><i class="fa fa-check"></i><b>8.9.1</b> Strengths of k-nn regression</a></li>
<li class="chapter" data-level="8.9.2" data-path="regression1.html"><a href="regression1.html#limitations-of-k-nn-regression"><i class="fa fa-check"></i><b>8.9.2</b> Limitations of k-nn regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression2.html"><a href="regression2.html"><i class="fa fa-check"></i><b>9</b> Regression, continued</a><ul>
<li class="chapter" data-level="9.1" data-path="regression2.html"><a href="regression2.html#overview-7"><i class="fa fa-check"></i><b>9.1</b> Overview</a></li>
<li class="chapter" data-level="9.2" data-path="regression2.html"><a href="regression2.html#learning-objectives-3"><i class="fa fa-check"></i><b>9.2</b> Learning objectives</a></li>
<li class="chapter" data-level="9.3" data-path="regression2.html"><a href="regression2.html#rmse-versus-rmpse"><i class="fa fa-check"></i><b>9.3</b> <span class="math inline">\(RMSE\)</span> versus <span class="math inline">\(RMPSE\)</span></a></li>
<li class="chapter" data-level="9.4" data-path="regression2.html"><a href="regression2.html#linear-regression"><i class="fa fa-check"></i><b>9.4</b> Linear regression</a></li>
<li class="chapter" data-level="9.5" data-path="regression2.html"><a href="regression2.html#linear-regression-in-r-using-caret"><i class="fa fa-check"></i><b>9.5</b> Linear regression in R using <code>caret</code></a></li>
<li class="chapter" data-level="9.6" data-path="regression2.html"><a href="regression2.html#comparing-linear-and-k-nn-regression"><i class="fa fa-check"></i><b>9.6</b> Comparing linear and k-nn regression</a></li>
<li class="chapter" data-level="9.7" data-path="regression2.html"><a href="regression2.html#additional-readingsresources-4"><i class="fa fa-check"></i><b>9.7</b> Additional readings/resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="regression3.html"><a href="regression3.html"><i class="fa fa-check"></i><b>10</b> Regression, continued some more…</a><ul>
<li class="chapter" data-level="10.1" data-path="regression3.html"><a href="regression3.html#overview-8"><i class="fa fa-check"></i><b>10.1</b> Overview</a></li>
<li class="chapter" data-level="10.2" data-path="regression3.html"><a href="regression3.html#learning-objectives-4"><i class="fa fa-check"></i><b>10.2</b> Learning objectives</a></li>
<li class="chapter" data-level="10.3" data-path="regression3.html"><a href="regression3.html#multivariate-k-nn-regression"><i class="fa fa-check"></i><b>10.3</b> Multivariate k-nn regression</a></li>
<li class="chapter" data-level="10.4" data-path="regression3.html"><a href="regression3.html#multivariate-linear-regression"><i class="fa fa-check"></i><b>10.4</b> Multivariate linear regression</a></li>
<li class="chapter" data-level="10.5" data-path="regression3.html"><a href="regression3.html#the-other-side-of-regression"><i class="fa fa-check"></i><b>10.5</b> The other side of regression</a></li>
<li class="chapter" data-level="10.6" data-path="regression3.html"><a href="regression3.html#additional-readingsresources-5"><i class="fa fa-check"></i><b>10.6</b> Additional readings/resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>11</b> Clustering</a><ul>
<li class="chapter" data-level="11.1" data-path="clustering.html"><a href="clustering.html#overview-9"><i class="fa fa-check"></i><b>11.1</b> Overview</a></li>
<li class="chapter" data-level="11.2" data-path="clustering.html"><a href="clustering.html#learning-objectives-5"><i class="fa fa-check"></i><b>11.2</b> Learning objectives</a></li>
<li class="chapter" data-level="11.3" data-path="clustering.html"><a href="clustering.html#clustering"><i class="fa fa-check"></i><b>11.3</b> Clustering</a><ul>
<li class="chapter" data-level="11.3.1" data-path="clustering.html"><a href="clustering.html#a-toy-example"><i class="fa fa-check"></i><b>11.3.1</b> A toy example</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="clustering.html"><a href="clustering.html#k-means-clustering-algorithm"><i class="fa fa-check"></i><b>11.4</b> K-means clustering algorithm</a></li>
<li class="chapter" data-level="11.5" data-path="clustering.html"><a href="clustering.html#k-means-clustering-in-r"><i class="fa fa-check"></i><b>11.5</b> K-means clustering in R</a></li>
<li class="chapter" data-level="11.6" data-path="clustering.html"><a href="clustering.html#choosing-k-for-k-means-clustering"><i class="fa fa-check"></i><b>11.6</b> Choosing K for K-means clustering</a></li>
<li class="chapter" data-level="11.7" data-path="clustering.html"><a href="clustering.html#additional-readings"><i class="fa fa-check"></i><b>11.7</b> Additional readings:</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="viz" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Effective data visualization</h1>
<div id="overview-2" class="section level2">
<h2><span class="header-section-number">4.1</span> Overview</h2>
<p>This chapter will introduce concepts and tools relating to data visualization beyond what we have seen and practiced so far. We will focus on guiding principles for effective data visualization and explaining visualizations independent of any particular tool or programming language. In the process, we will cover some specifics of creating visualizations (scatter plots, bar charts, line graphs, and histograms) for data using R.</p>
<p>There are two external references that contain a wealth of additional information on the topic of data visualization: see the <a href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualization</a> by Professor Claus Wilke for more details on general principles of effective visualizations, and see Grolemund &amp; Wickham’s <a href="https://r4ds.had.co.nz/">R for Data Science</a> chapter on <a href="https://r4ds.had.co.nz/data-visualisation.html">creating visualizations using <code>ggplot2</code></a> for a deeper introduction into the syntax and grammar of plotting with <code>ggplot2</code> specifically.</p>
</div>
<div id="chapter-learning-objectives-3" class="section level2">
<h2><span class="header-section-number">4.2</span> Chapter learning objectives</h2>
<p><strong>REVISIT THESE WHEN DONE CHAPTER</strong></p>
<ul>
<li>Define the three key aspects of ggplot objects:
<ul>
<li>aesthetic mappings</li>
<li>geometric objects</li>
<li>scales</li>
</ul></li>
<li>Use the <code>ggplot2</code> function in R to create the following visualizations:
<ul>
<li>2-D scatter plot with/without a third variable that stratifies groups</li>
<li>2-D line graphs with/without a third variable that stratifies groups</li>
<li>various bar charts (count, proportion, stacked) for multiple groups</li>
</ul></li>
<li>Given a dataset and a description of a claim, select from the above plot types to create a visualization that justifies the claim</li>
<li>Given a visualization and a description of a claim, evaluate its effectiveness and suggest ways to improve the visualization to better support the claim</li>
<li>List the rules of thumb for effective visualizations</li>
</ul>
</div>
<div id="choosing-the-visualization" class="section level2">
<h2><span class="header-section-number">4.3</span> Choosing the visualization</h2>
<div id="my-section" class="section level4 unnumbered">
<h4><em>Ask a question, and answer it</em></h4>
<p>The purpose of a visualization is to answer a question about a dataset of interest. So naturally, the first thing to do when creating a visualization is to formulate the question about the data that you are trying to answer. A good visualization will answer your question in a clear way without distraction; a <em>great</em> visualization will suggest even what the question was itself without additional explanation. Imagine your visualization as part of a poster presentation for your project; even if you aren’t standing at the poster explaining things, an effective visualization will be able to convey your message to the audience.</p>
<p>As with all coding tasks, it is totally fine (and quite common) to make mistakes and iterate a few times before you find the right visualization for your data. There are <a href="https://serialmentor.com/dataviz/directory-of-visualizations.html">many different kinds of plotting graphic</a> available to use. For the kinds we will introduce in this course, the general rules of thumb are:</p>
<ul>
<li><strong>line plots</strong> visualize trends with respect to an independent quantity (e.g. time)</li>
<li><strong>histograms</strong> visualize the distribution of data on one axis</li>
<li><strong>scatter plots</strong> visualize the relationship between two quantitative variables, and can also be used to visualize the distribution of data on two axes</li>
<li><strong>bar plots</strong> visualize comparisons of amounts</li>
</ul>
<p>The rest of the section will cover examples of how to choose a visualization given a dataset and a question that you want to answer, and then how to create the visualization in R using <code>ggplot2</code>.</p>
</div>
<div id="the-mauna-loa-co2-dataset" class="section level3">
<h3><span class="header-section-number">4.3.1</span> The Mauna Loa CO2 dataset</h3>
<p>This dataset contains the atmospheric concentration of carbon dioxide (CO2, in parts per million) at the Mauna Loa research station in Hawaii from the years 1959-1997:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># mauna loa carbon dioxide data </span>
<span class="co"># (with some light wrangling to make it a dataframe with informative column names)</span>
co2_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">concentration =</span> <span class="kw">as.matrix</span>(co2), <span class="dt">date =</span> <span class="kw">time</span>(co2))
<span class="kw">head</span>(co2_df)</code></pre></div>
<pre><code>##   concentration     date
## 1        315.42 1959.000
## 2        316.31 1959.083
## 3        316.50 1959.167
## 4        317.56 1959.250
## 5        318.13 1959.333
## 6        318.00 1959.417</code></pre>
<p><strong>Question:</strong> Does the concentration of atmospheric CO2 change over time, and are there any interesting patterns to note?</p>
<p>Since we are investigating a relationship between two variables (CO2 concentration and time), it may be a good idea to use a scatter plot. Scatter plots show the data as individual points with <code>x</code> (horizonal axis) and <code>y</code> (vertical axis) coordinates. Here, we will set the <code>x</code> coordinate to time, and the <code>y</code> coordinate to concentration.</p>
<p>In <code>ggplot2</code>, we create the plot with the function <code>ggplot</code>. The first argument is the dataframe we are working with (here <code>co2_df</code>), and the second (here <code>aes(x = date, y = concentration)</code>) tells the plot what to put on the <code>x</code> axis and what to put on the <code>y</code> axis. Finally, we tell the plotting code to display the information as a scatter using the <code>geom_point</code> function. There are many other possible arguments to pass to the <code>ggplot2</code> functions, but for the purposes of quickly testing things out to see what they look like, we can just go with the default settings:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">co2_scatter &lt;-<span class="st"> </span><span class="kw">ggplot</span>(co2_df, <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> concentration)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() </code></pre></div>
<p><img src="_main_files/figure-html/03-data-co2-scatter-print-1.png" width="672" /></p>
<p>Certainly the visualization shows a clear (and quite depressing) upward trend in the atmospheric concentration of CO2 over time. This plot answers the first part of our question in the affirmative, but that appears to be the only conclusion one can make from the scatter visualization. However, since time is an ordered quantity, we can try using a line plot instead using the <code>geom_line</code> function. Line plots require that the data are listed in order, and connect the sequence of <code>x</code> and <code>y</code> coordinates with line segments. Let’s again try this with just the default arguments:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">co2_line &lt;-<span class="st"> </span><span class="kw">ggplot</span>(co2_df, <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> concentration)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>() </code></pre></div>
<p><img src="_main_files/figure-html/03-data-co2-line-print-1.png" width="672" /></p>
<p>Aha! There <em>is</em> another interesting phenomenon in the data: in addition to increasing over time, the concentration seems to oscillate as well. Given the visualization as it is now, it is still hard to tell how fast and how large in amplitude the oscillation is, but nevertheless, the line seems to be a better choice for answering the question than the scatter plot was. The comparison between these two visualizations illustrates a common issue with scatter plots: often the points are shown too close together or even on top of one another, muddling information that would otherwise be clear (<em>overplotting</em>).</p>
</div>
<div id="the-old-faithful-eruption-waiting-time-dataset" class="section level3">
<h3><span class="header-section-number">4.3.2</span> The Old Faithful eruption / waiting time dataset</h3>
<p>This dataset contains measurements of the waiting time between eruptions and the subsequent eruption duration (in minutes):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># old faithful eruption time / wait time data</span>
<span class="kw">head</span>(faithful)</code></pre></div>
<pre><code>##   eruptions waiting
## 1     3.600      79
## 2     1.800      54
## 3     3.333      74
## 4     2.283      62
## 5     4.533      85
## 6     2.883      55</code></pre>
<p><strong>Question:</strong> Is there a relationship between the waiting time before an eruption to the duration of the eruption? Also, would it be possible to use the current time since the last eruption to predict the duration of the next eruption?</p>
<p>Here again we are investigating the relationship between two quantitative variables (waiting time and eruption time). A scatter plot sounds like a good place to start:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">faithful_scatter &lt;-<span class="st"> </span><span class="kw">ggplot</span>(faithful, <span class="kw">aes</span>(<span class="dt">x =</span> waiting, <span class="dt">y =</span> eruptions)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>() </code></pre></div>
<p><img src="_main_files/figure-html/03-data-faithful-scatter-print-1.png" width="672" /></p>
</div>
<div id="the-island-landmass-dataset" class="section level3">
<h3><span class="header-section-number">4.3.3</span> The island landmass dataset</h3>
<p>This dataset contains a list of Earth’s land masses as well as their area (in thousands of square miles):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># islands data </span>
<span class="co"># (with some light wrangling to make it a dataframe with informative column names)</span>
islands_df &lt;-<span class="st"> </span><span class="kw">enframe</span>(islands)
<span class="kw">colnames</span>(islands_df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;landmass&#39;</span>, <span class="st">&#39;size&#39;</span>)
<span class="kw">head</span>(islands_df)</code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   landmass      size
##   &lt;chr&gt;        &lt;dbl&gt;
## 1 Africa       11506
## 2 Antarctica    5500
## 3 Asia         16988
## 4 Australia     2968
## 5 Axel Heiberg    16
## 6 Baffin         184</code></pre>
</div>
<div id="the-michelson-speed-of-light-dataset" class="section level3">
<h3><span class="header-section-number">4.3.4</span> The Michelson speed of light dataset</h3>
<p>This dataset contains measurements of the speed of light (in kilometers per second with 299,000 subtracted) for 5 experiments, each with 20 runs:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># michelson morley experimental data</span>
<span class="kw">head</span>(morley)</code></pre></div>
<pre><code>##     Expt Run Speed
## 001    1   1   850
## 002    1   2   740
## 003    1   3   900
## 004    1   4  1070
## 005    1   5   930
## 006    1   6   850</code></pre>
<p><strong>Question:</strong> How accurate are all the experiments?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">morley_hist &lt;-<span class="st"> </span><span class="kw">ggplot</span>(morley, <span class="kw">aes</span>(<span class="dt">x =</span> Speed)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>() </code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">morley_hist2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(morley, <span class="kw">aes</span>(<span class="dt">x =</span> Speed, <span class="dt">fill=</span> Expt)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="dt">position=</span><span class="st">&#39;identity&#39;</span>, <span class="dt">alpha=</span><span class="fl">0.2</span>) </code></pre></div>
<p><img src="_main_files/figure-html/03-data-morley-hist-print-1.png" width="672" /><img src="_main_files/figure-html/03-data-morley-hist-print-2.png" width="672" /></p>
</div>
<div id="the-tooth-growth-dataset" class="section level3">
<h3><span class="header-section-number">4.3.5</span> The tooth growth dataset</h3>
<p>This dataset contains measurements of the length of odontoblasts (cells responsible for tooth growth) in 60 guinea pigs given different dose levels of vitamin C (in milligrams per day) in different forms (ascorbic acid or orange juice):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># effect of vitamin C on guinea pig tooth growth</span>
<span class="kw">head</span>(ToothGrowth)</code></pre></div>
<pre><code>##    len supp dose
## 1  4.2   VC  0.5
## 2 11.5   VC  0.5
## 3  7.3   VC  0.5
## 4  5.8   VC  0.5
## 5  6.4   VC  0.5
## 6 10.0   VC  0.5</code></pre>
<p>All types of visualization have their (mis)uses, but there are three kinds that are usually hard to understand or are easily replaced with an oft-better alternative. In particular you should avoid <strong>pie charts</strong>; it is usually better to use bars, as it is easier to compare bar heights than pie slice sizes. You should also not use <strong>3-D visualizations</strong>, as they are typically hard to understand when converted to a static 2-D image format. Finally, do not use tables to make numerical comparisons; humans are much better at quickly processing visual information than text and math. Bar plots are again typically a better alternative.</p>
<p>ask a question try to use different plots to answer the question choose the</p>
</div>
</div>
<div id="refining-the-visualization" class="section level2">
<h2><span class="header-section-number">4.4</span> Refining the visualization</h2>
<div id="my-section" class="section level4 unnumbered">
<h4><em>Maximize the signal-to-noise ratio</em></h4>
<p>Just being able to make vizualizations in R with <code>ggplot2</code> (or any other tool for that matter) doesn’t mean that your vizualization is effective at communicating to others what you are trying to communicate. There is a large body of research behind what makes effective visualizations,</p>
<p><strong>Maximize signal</strong></p>
<ul>
<li>make sure your information conveys your point</li>
<li>Use legends and labels so that your visualization is understandable without reading the surrounding text</li>
<li>Ensure the text, symbols on your visualization is big enough to be easily read</li>
<li>Don’t adjust the axes to zoom in on small differences (if the difference is small, show that its small!)</li>
<li>use good colour palette</li>
</ul>
<p><strong>Minimize noise</strong></p>
<ul>
<li>Use colors sparingly (too many different colors can distract and even create false patterns)</li>
<li>Be wary of overplotting (if your plot has too many dots or lines and it starts to look like a mess, then you need to do something different)</li>
<li>Only make the plot area (where the dots, lines, bars are) as big as needed (simple plots can, and should be quite small)</li>
<li>Show the data (don’t hide the shape/distribution of the data behind a bar)</li>
</ul>
<p><a href="https://www.color-blindness.com/coblis-color-blindness-simulator/">colour blindness simulator</a></p>
<p><a href="https://colorbrewer.org">colorbrewer.org</a></p>
</div>
</div>
<div id="explaining-the-visualization" class="section level2">
<h2><span class="header-section-number">4.5</span> Explaining the visualization</h2>
<div id="my-section" class="section level4 unnumbered">
<h4><em>Tell a story</em></h4>
<p>remember the types of data question, only explain what you can</p>
</div>
</div>
<div id="saving-the-visualization" class="section level2">
<h2><span class="header-section-number">4.6</span> Saving the visualization</h2>
<div id="my-section" class="section level4 unnumbered">
<h4><em>Choose the right output format for your needs</em></h4>
<p>Just as there are many ways to store datasets, there are many ways to store visualizations and images. Which one you choose can depend on a number of factors, such as file size/type limitations (e.g., if you are submitting your visualization as part of a conference paper or to a poster printing shop) and where it will be displayed (e.g., online, in a paper, on a poster, on a billboard, in talk slides). Generally speaking, images come in two flavours: <em>bitmap</em> (or <em>raster</em>) formats and <em>vector</em> (or <em>scalable graphics</em>) formats.</p>
<p><strong>Bitmap / Raster</strong> images are represented as a 2-D grid of square pixels, each with their own colour. Raster images are often <em>compressed</em> before storing so they take up less space. A compressed format is <em>lossy</em> if the image cannot be perfectly recreated when loading and displaying, with the hope that the change is not noticeable. <em>Lossless</em> formats, on the other hand, allow a perfect display of the original image.</p>
<ul>
<li><em>Common file types:</em>
<ul>
<li><a href="https://en.wikipedia.org/wiki/JPEG">JPEG</a> (<code>.jpg</code>, <code>.jpeg</code>): lossy, usually used for photographs</li>
<li><a href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">PNG</a> (<code>.png</code>): lossless, usually used for plots / line drawings</li>
<li><a href="https://en.wikipedia.org/wiki/BMP_file_format">BMP</a> (<code>.bmp</code>): lossless, raw image data, no compression (rarely used)</li>
<li><a href="https://en.wikipedia.org/wiki/TIFF">TIFF</a> (<code>.tif</code>, <code>.tiff</code>): typically lossless, no compression, used mostly in graphic arts, publishing</li>
</ul></li>
<li><em>Free Editing software:</em> <a href="https://www.gimp.org/">GIMP</a>, <a href="https://jspaint.app">JS Paint</a></li>
</ul>
<p><strong>Vector / Scalable Graphics</strong> images are represented as a collection of mathematical objects (lines, surfaces, shapes, curves). When the computer displays the image, it redraws all of the elements using their mathematical formulas.</p>
<ul>
<li><em>Common file types:</em> <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a> (<code>.svg</code>) and <a href="https://en.wikipedia.org/wiki/Encapsulated_PostScript">EPS</a> (<code>.eps</code>), both for general purpose use (although SVG is much more common these days)</li>
<li><em>Free Editing software:</em> <a href="https://inkscape.org/">Inkscape</a>, <a href="https://boxy-svg.com/">Boxy SVG</a></li>
</ul>
<p>Raster and vector images have opposing advantages and disadvantages. A raster image of a fixed width / height takes the same amount of space and time to load regardless of what the image shows (caveat: the compression algorithms may shrink the image more or run faster for certain images). A vector image takes space and time to load corresponding to how complex the image is, since the computer has to draw all the elements each time it is displayed. For example, if you have a scatter plot with 1 million points stored as an SVG file, it may take your computer some time to open the image. On the other hand, you can zoom into / scale up vector graphics as much as you like without the image looking bad, while raster images eventually start to look “pixellated.”</p>
<blockquote>
<p><strong>PDF files:</strong> The portable document format <a href="https://en.wikipedia.org/wiki/PDF">PDF</a> (<code>.pdf</code>) is commonly used to store <em>both</em> raster and vector graphics formats. If you try to open a PDF and it’s taking a long time to load, it may be because there is a complicated vector graphics image that your computer is rendering.</p>
</blockquote>
<p>Let’s investigate how different image file formats behave with a scatter plot of the <a href="https://www.stat.cmu.edu/~larry/all-of-statistics/=data/faithful.dat">Old Faithful dataset</a>, which happens to be available in base R under the name <code>faithful</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(svglite) <span class="co">#we need this to save SVG files</span>
faithful_plot &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="dt">data=</span>faithful, <span class="kw">aes</span>(<span class="dt">x=</span>waiting, <span class="dt">y=</span>eruptions))<span class="op">+</span>
<span class="st">  </span><span class="kw">geom_point</span>()

<span class="kw">print</span>(faithful_plot)</code></pre></div>
<p><img src="_main_files/figure-html/03-plot-line-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">ggsave</span>(<span class="st">&#39;faithful_plot.png&#39;</span>, faithful_plot)
## Saving 7 x 5 in image
<span class="kw">ggsave</span>(<span class="st">&#39;faithful_plot.jpg&#39;</span>, faithful_plot)
## Saving 7 x 5 in image
<span class="kw">ggsave</span>(<span class="st">&#39;faithful_plot.bmp&#39;</span>, faithful_plot)
## Saving 7 x 5 in image
<span class="kw">ggsave</span>(<span class="st">&#39;faithful_plot.tiff&#39;</span>, faithful_plot)
## Saving 7 x 5 in image
<span class="kw">ggsave</span>(<span class="st">&#39;faithful_plot.svg&#39;</span>, faithful_plot)
## Saving 7 x 5 in image

<span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;PNG filesize: &quot;</span>, <span class="kw">file.info</span>(<span class="st">&#39;faithful_plot.png&#39;</span>)[<span class="st">&#39;size&#39;</span>]<span class="op">/</span><span class="dv">1000000</span>, <span class="st">&quot;MB&quot;</span>))
## [1] &quot;PNG filesize:  0.078717 MB&quot;
<span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;JPG filesize: &quot;</span>, <span class="kw">file.info</span>(<span class="st">&#39;faithful_plot.jpg&#39;</span>)[<span class="st">&#39;size&#39;</span>]<span class="op">/</span><span class="dv">1000000</span>, <span class="st">&quot;MB&quot;</span>))
## [1] &quot;JPG filesize:  0.139231 MB&quot;
<span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;BMP filesize: &quot;</span>, <span class="kw">file.info</span>(<span class="st">&#39;faithful_plot.bmp&#39;</span>)[<span class="st">&#39;size&#39;</span>]<span class="op">/</span><span class="dv">1000000</span>, <span class="st">&quot;MB&quot;</span>))
## [1] &quot;BMP filesize:  3.148978 MB&quot;
<span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;TIFF filesize: &quot;</span>, <span class="kw">file.info</span>(<span class="st">&#39;faithful_plot.tiff&#39;</span>)[<span class="st">&#39;size&#39;</span>]<span class="op">/</span><span class="dv">1000000</span>, <span class="st">&quot;MB&quot;</span>))
## [1] &quot;TIFF filesize:  9.443892 MB&quot;
<span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;SVG filesize: &quot;</span>, <span class="kw">file.info</span>(<span class="st">&#39;faithful_plot.svg&#39;</span>)[<span class="st">&#39;size&#39;</span>]<span class="op">/</span><span class="dv">1000000</span>, <span class="st">&quot;MB&quot;</span>))
## [1] &quot;SVG filesize:  0.046627 MB&quot;</code></pre></div>
<p>Wow, that’s quite a difference! Notice that for such a simple plot with few graphical elements (points), the vector graphics format (SVG) is over 100 times smaller than the uncompressed raster images (BMP, TIFF). Also note that the JPG format is twice as large as the PNG format, since the JPG compression algorithm is designed for natural images (not plots). Below, we also show what the images look like when we zoom in to a rectangle with only 3 data points. You can see why vector graphics formats are so useful: because they’re just based on mathematical formulas, vector graphics can be scaled up to arbitrary sizes. This makes them great for presentation media of all sizes, from papers to posters to billboards.</p>
<figure>
<center>
<img src="img/faithful_zoom.png" style="height: 250px"/> <img src="img/faithful_zoom.svg" style="height: 250px"/>
<figcaption>
Zoomed in <code>faithful</code>, raster (PNG, left) and vector (SVG, right) formats.
</figcaption>
</center>
</figure>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="GitHub.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-viz.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
